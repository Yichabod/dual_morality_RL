<html>
    <head>
        <script
          src="https://code.jquery.com/jquery-3.3.1.min.js"
          integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
          crossorigin="anonymous"></script>
        <script src="gridworld-task.js" type="text/javascript"></script>
        <script>
            let task;
            $(document).ready(() => {
                task = new GridWorldTask({
                    container: $("#task")[0],
                    step_callback: (d) => {console.log(d)},
                    endtask_callback: () => {console.log('absorbing')}
                });
                task.init({
                    feature_array: [
                        '.....',
                        '.....',
                        '.b.g.',
                        '.....',
                        '.....',
                    ],
                    init_state: {
                        'agent': [1, 0],
                        'cargo1': [3, 2],
                        'cargo2': [1,1],
                        'train': [0,2],
                        'trainvel': [1,0],
                    },
                    switch_pos: [2,3],
                    targets: {
                        'target1':[3,2],
                        'target2':[1,2]
                    },
                    absorbing_states: [
                        [0, 0]
                    ],
                    feature_rewards: {
                        'b': 2,
                        'g': 1,
                    },
                    feature_transitions: {
                        'b': {
                            '2forward': 1.0
                        }
                    },
                    show_rewards: true
                });
                task.start();
            });
        </script>
    </head>
    <body>
        <div id="reward"> Reward = 0 <br/> Step = 0/5 </div>
	    <div id="task"></div>
    </body>
</html>